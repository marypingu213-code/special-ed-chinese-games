<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰¹æ•™åœ‹èªéŠæˆ²ç¶²</title>
    <script src="data.js"></script>
    <style>
        body { font-family: "Microsoft JhengHei", "Heiti TC", sans-serif; background-color: #eef2f5; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        
        /* åŠ ä¸Š position: relative è®“ QR code å¯ä»¥ä¹–ä¹–å¾…åœ¨å³ä¸Šè§’ */
        .canvas-16-9 { position: relative; width: 95vw; max-width: 1400px; aspect-ratio: 16 / 9; background-color: #fdf5e6; border-radius: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.15); display: flex; flex-direction: column; align-items: center; padding: 3%; box-sizing: border-box; overflow: hidden; }
        
        .header-area { text-align: center; margin-bottom: 3%; }
        h1 { color: #5a4a42; font-size: 3.5vw; margin: 0 0 10px 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
        .subtitle { font-size: 1.8vw; color: #7b6855; margin: 0; }
        
        /* ğŸ“± QR Code å°ˆå±¬æ¨£å¼ (å›ºå®šåœ¨å³ä¸Šè§’) */
        .qr-box { position: absolute; top: 3%; right: 3%; background: #fff; padding: 10px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: center; border: 3px dashed #f39c12; transition: transform 0.3s; }
        .qr-box:hover { transform: scale(1.1); }
        .qr-box p { margin: 0 0 5px 0; font-size: 1.2vw; font-weight: bold; color: #e74c3c; letter-spacing: 1px; }
        .qr-box img { width: 8vw; height: 8vw; min-width: 80px; min-height: 80px; object-fit: contain; }

        /* èª²ç¨‹åˆ—è¡¨å€ */
        .lesson-list { display: flex; flex-wrap: wrap; justify-content: center; gap: 2vw; width: 100%; overflow-y: auto; padding: 2vw; }
        .lesson-card { background-color: #ffffff; border-radius: 2vw; box-shadow: 0 8px 16px rgba(0,0,0,0.08); text-decoration: none; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; border: 4px solid #3498db; cursor: pointer; padding: 2vw 4vw; width: 30%; box-sizing: border-box; }
        .lesson-card:hover { transform: translateY(-10px) scale(1.05); box-shadow: 0 20px 40px rgba(0,0,0,0.15); background-color: #eafaf1; border-color: #2ecc71; }
        .lesson-title { font-size: 2vw; font-weight: bold; color: #2c3e50; text-align: center;}

        @media (min-width: 1400px) { h1 { font-size: 48px; } .subtitle { font-size: 25px; } .lesson-title { font-size: 28px; } .qr-box p { font-size: 16px; } .qr-box img { width: 120px; height: 120px; } }
    </style>
</head>
<body>
    <div class="canvas-16-9">
        
        <div class="qr-box" title="è®“å­¸ç”Ÿç”¨å¹³æ¿æƒæé€™è£¡">
            <p>ğŸ“± æƒæé€²éŠæˆ²</p>
            <img id="qr-code-image" src="" alt="è‡ªå‹•ç”¢ç”Ÿ QR Code">
        </div>

        <div class="header-area">
            <h1>ğŸ« ç‰¹æ•™åœ‹èªéŠæˆ²ç¶² ğŸª</h1>
            <p class="subtitle">è«‹é¸æ“‡ä»Šå¤©è¦æŒ‘æˆ°çš„èª²ç¨‹ï¼</p>
        </div>
        
        <div class="lesson-list" id="lesson-container"></div>
    </div>

    <script>
        window.onload = function() {
            // ğŸŒŸ é­”æ³• 1ï¼šè‡ªå‹•ç”¢ç”Ÿ QR Code (æŠ“å–æ‚¨ç¾åœ¨çš„ç¶²å€ï¼Œè‡ªå‹•è½‰æ›æˆåœ–ç‰‡)
            let cleanUrl = window.location.href.split('#')[0].split('?')[0]; 
            document.getElementById('qr-code-image').src = "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=" + encodeURIComponent(cleanUrl);

            // ğŸŒŸ é­”æ³• 2ï¼šæƒæ allLessonsData è£¡é¢çš„æ¯ä¸€èª²ä¸¦ç”ŸæˆæŒ‰éˆ•
            const container = document.getElementById('lesson-container');
            for (let lessonId in allLessonsData) {
                const lessonInfo = allLessonsData[lessonId];
                const card = document.createElement('a');
                card.href = `lesson.html?id=${lessonId}`; 
                card.className = 'lesson-card';
                
                const title = document.createElement('div');
                title.className = 'lesson-title';
                title.innerText = lessonInfo.title; 
                
                card.appendChild(title);
                container.appendChild(card);
            }
        };
    </script>
</body>
</html>
